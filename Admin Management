import json 
filename = "user.json"

def options():
    print("Admin Data Management System")
    print("(1) View User Info")
    print("(2) Update User Info")
    print("(3) Quit")

def view_user_info():
    with open(filename, "r") as info:
        users = json.load(info)
        for access in users:
            name = access["name"]
            phone_number = access['phone number']
            job = access["occupation"]
            vaccine = access["vaccination"]
            covid = access["Covid-19 status"]
            vaccine_status = access["vaccine status"]
            vaccine_date = access["vaccine appointment date"]
            vaccine_location = access["vaccine appointment location"]
            print(f'Name                            : {name}')
            print(f'Phone Number                    : {phone_number}')
            print(f'Occupation                      : {job}')
            print(f'Vaccination                     : {vaccine}')
            print(f'Covid-19 Status                 : {covid}')
            print(f'Vaccine Status                  : {vaccine_status}')
            print(f'Vaccination Appointment Date    : {vaccine_date}')
            print(f'Vaccination Appointment Location: {vaccine_location}')
            print('\n\n')

def update_data():
    user_data = {}
    with open (filename,'r') as info:
        users = json.load(info)
    user_data["name"] = input("Name: ")
    user_data["phone number"] = input("Phone Number: ")
    user_data["occupation"] = input("Occupation: ")
    user_data["vaccination"] = input("Vaccination: ")
    user_data["Covid-19 status"] = "None"
    user_data["vaccine status"] = "Not Assigned"
    user_data["vaccine appointment date"] = "1st Dose: None | 2nd Dose: None"
    user_data["vaccine appointment location"] = "None"
    users.append(user_data)
    with open(filename,"w") as info:
        json.dump(users, info, indent = 4)

while True:
    options()
    option  = input("Enter A Number: ")
    if option == "1":
        view_user_info()
    elif option == "2":
        update_data()
    elif option == "3":
        break
    else:
        print("Please Select A Number.")


